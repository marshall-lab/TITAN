model:
  setting:
    default: Phil2005
    description: "Population the model is being run on"
    type: enum
    values:
      - Phil2005
      - AtlantaMSM
      - Scott
  processes:
    default: 1
    description: "Number of processes in parallel to use for computation"
    type: int
    min: 1
  seeds:
    run:
      default: 0
      description: "Seed for random number generator for running the model. 0 is pure random, -1 for stepwise through number of number of repetitions (num_reps), other numbers will be used to explicitly set the seed."
      type: int
    net:
      default: 0
      description: "Seed for random number generator for creating the network. 0 is pure random, other numbers will be used to explicitly set the seed"
      type: int
    pop:
      default: 0
      description: "Seed for random number generator for creating the population. 0 is pure random, other numbers will be used to explicitly set the seed"
      type: int
  num_mc:
    default: 1
    description: "Number of monte carlo iterations to run"
    type: int
    min: 1
  num_reps:
    default: 1
    description: "Number of repetitions a simulation is done"
    type: int
    min: 1
  num_pop:
    default: 100
    description: "Size of population to model"
    type: int
    min: 1
  time_range:
    default: 12
    description: "Number of time steps to run the model"
    type: int
    min: 1
  burn_duration:
    default: 6
    description: "Number of time steps of burn in period, if 0, there is no burn in period."
    type: int
  network_type:
    default: scale_free
    description: "Algorithm used for network initialization"
    type: enum
    values:
      - scale_free
      - max_k_comp_size

classes:
  races:
    default:
      - WHITE
      - BLACK
    description: "Which races to use in model (currently only 'WHITE' and 'BLACK' supported)"
    type: array
    values:
      - WHITE
      - BLACK
  sex_types:
    default:
      - HM
      - HF
    description: "Which sex types to use in model"
    type: array
    values:
      - HM
      - HF
      - MSM
      - WSW
      - MTF
  populations:
    default:
      - IDU
    description: "Which demographic populations to track in addition to sex_types"
    type: array
    values:
      - IDU

demographics:
  type: sub-dict
  description: "Paramters controlling population class level probabilities and behaviors"
  keys:
    - races
    - populations
  default:
    pop:
      default: 0.0
      description: "Percentage of agent population with given parent key that is this class.  Across races this must add up to one, and at the sex type level within a race, this must also add up to one. Other demographic params can have proportions of any value."
      type: float
      min: 0.0
      max: 1.0
    hiv:
      init:
        default: 0.0
        description: "Probability that an agent in this class initially has HIV"
        type: float
        min: 0.0
        max: 1.0
    aids:
      init:
        default: 0.0
        description: "Probability that an agent in this class with HIV has AIDS initially"
        type: float
        min: 0.0
        max: 1.0
    haart: # TO_REVIEW, the naming of this param implied duality, so I split it, but it isn't actually currently dual
      init:
        default: 0.0
        description: "Probability that an agent in this class with HIV is initially enrolled in HAART"
        type: float
        min: 0.0
        max: 1.0
      prob:
        default: 0.0
        description: "Probability that an agent in this class with HIV becomes enrolled in HAART at a given time step"
        type: float
        min: 0.0
        max: 1.0
      adherence:
        default: 0.0
        description: "Probability that an agent is assigne adherence of 5, otherwise randomly assigned 1-4"
        type: float
        min: 0.0
        max: 1.0
      discontinue:
        default: 0.0
        description: "Probability that an agent on HAART discontinues HAART in a given time step"
        type: float
        min: 0.0
        max: 1.0
    incarceration:
      init:
        default: 0.0
        description: "Probability that an agent in this class is initially incarcerated"
        type: float
        min: 0.0
        max: 1.0
      prob:
        default: 0.0
        description: "Probability that an agent in this class becomes incarcerated at a given time step"
        type: float
        min: 0.0
        max: 1.0
    tested:
      init:
        default: 0.0
        description: "Probability that an agent with HIV is initially tested and 'knows' their HIV status, therefore enabling enrollment in treatment"
        type: float
        min: 0.0
        max: 1.0
      prob:
        default: 0.0
        description: "Probability that an agent with HIV becomes tested at a given time step and 'knows' their HIV status, therefore enabling enrollment in treatment"
        type: float
        min: 0.0
        max: 1.0
    num_partners:
      default: 0.0
      description: "Mean number of partners for an agent in this class"
      type: float
      min: 0.0
    num_sex_acts: # TO_REVIEW this is used with needle, and agent.py has a function for getting number of sex acts
      default: 0.0
      description: "???"
      type: float
      min: 0.0
    safe_sex:
      default: 0.0
      description: "Pobability of safe sex (condom use) per sex act"
      type: float
      min: 0.0
      max: 1.0
    needle_sharing:
      default: 0.0
      description: "Probability of sharing a needle per act"
      type: float
      min: 0.0
      max: 1.0
    prep:
      discontinue:
        default: 0.0
        description: "Probability that an agent on PrEP discontinues PrEP at a given time step"
        type: float
        min: 0.0
        max: 1.0
      adherence: # TO_REVIEW why is this default 1?
        default: 1.0
        description: "Probability that an agent on PrEP is assigned an adherence of 1, otherwise assigned 0"
        type: float
        min: 0.0
        max: 1.0
      coverage:
        default: 0.0
        description: "Target percentage of PrEP coverage for this population class"
        type: float
        min: 0.0
        max: 1.0
    high_risk:
      init:
        default: 0.0
        description: "Probability that an agent is initially marked as high risk"
        type: float
        min: 0.0
        max: 1.0
    vaccine:
      init: # to review - not currently used
        default: 0.0
        description: "Probability that an agent is initially vaccinated"
        type: float
        min: 0.0
        max: 1.0
      prob:
        default: 0.0
        description: "Probability that an agent becomes vaccinated at a given time step"
        type: float
        min: 0.0
        max: 1.0
      booster:
        interval:
          default: 0
          description: "Number of time steps from vaccination at which booster vaccine is required"
          type: int
          min: 0
        prob:
          default: 0.0
          description: "Probability of an agent getting booster vaccine at required time step"
          type: float
          min: 0.0
          max: 1.0

partnership:
  sex:
    durations:
      type: bin
      description: "Binned probabilities of length of a partnership's sexual durations"
      fields:
        prob:
          type: float
          min: 0.0
          max: 1.0
        min:
          type: int
          min: 0
        max:
          type: int
          min: 0
      default:
        1:
          prob: 0.585
          min: 1
          max: 6
        2:
          prob: 0.701
          min: 7
          max: 12
        3:
          prob: 0.822
          min: 13
          max: 24
        4:
          prob: 0.882
          min: 25
          max: 36
        5:
          prob: 1.0
          min: 37
          max: 48
    frequency: # TO_REVIEW this is the same default as sex.duration - seems odd?
      type: bin
      description: "Binned probabilities of number of sex acts of a partnership at a given time step"
      fields:
        prob:
          type: float
          min: 0.0
          max: 1.0
        min:
          type: int
          min: 0
        max:
          type: int
          min: 0
      default:
        1:
          prob: 0.585
          min: 1
          max: 6
        2:
          prob: 0.701
          min: 7
          max: 12
        3:
          prob: 0.822
          min: 13
          max: 24
        4:
          prob: 0.882
          min: 25
          max: 36
        5:
          prob: 1.0
          min: 37
          max: 48
    transmission:
      type: sub-dict
      description: "probability of transmitting HIV for a given sex type"
      keys:
        - sex_types
      default:
        type: bin
        description: "Binned probabilities of transmitting HIV"
        fields:
          prob:
            type: float
            min: 0.0
            max: 1.0
        default:
          0:
            prob: 0.001
          1:
            prob: 0.001
          2:
            prob: 0.0008
          3:
            prob: 0.0004
          4:
            prob: 0.0002
          5:
            prob: 0.0
